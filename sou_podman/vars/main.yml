# SSL CERTIFICATES
ssl_certificates:
  key:
    name: "certificate.key"
    size: 2048
  cert:
    name: "certificate.cert"
    common_name: "haproxy"
    organization_name: "sourcesense_modulo_formativo"
  pem:
    name: "certificate.pem"

podman_network_name: "pou_podman_net"

# HAPROXY
haproxy_container:
  name: "sou_haproxy"
  image: "haproxy"
  state: "started"
  image_tag: "latest"
  exposed_port: "8443"
  mapped_ports: "8443:8443"
  volume: '{{ configuration_files_folder }}/{{ haproxy_configuration_file }}:/usr/local/etc/haproxy/haproxy.cfg:z'
  certificate: '{{ certificates_files_folder }}/{{ ssl_certificates.pem.name }}:/certificate.pem:z'

# PROMETHEUS
prometheus_container:
  name: "sou_prometheus"
  image: "prom/prometheus"
  image_tag: "latest"
  state: "started"
  exposed_port: "9090"
  mapped_ports: "9090:9090"
  extra_command_1: "--config.file=/etc/prometheus/prometheus.yml"
  extra_command_2: "--storage.tsdb.path=/prometheus"
  extra_command_3: "--web.external-url=/prometheus/"
  volume: '{{ configuration_files_folder }}/{{ prometheus_configuration_file }}:/etc/prometheus/prometheus.yml:z'

# GRAFANA
grafana_container:
  name: "sou_grafana"
  image: "grafana/grafana"
  image_tag: "latest"
  state: "started"
  exposed_port: "3000"
  mapped_ports: "3000:3000"
  volume: '{{ configuration_files_folder }}/{{ grafana_configuration_file }}:/etc/grafana/grafana.ini:z'
